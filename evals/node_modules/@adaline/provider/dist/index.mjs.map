{"version":3,"sources":["../src/errors/provider.error.ts","../src/errors/model.error.ts","../src/errors/model-response.error.ts","../src/errors/invalid-model-request.error.ts","../src/errors/invalid-config.error.ts","../src/errors/invalid-messages.error.ts","../src/errors/invalid-tools.error.ts","../src/errors/invalid-embedding-requests.error.ts","../src/types/config/multi-string-config-item.ts","../src/types/config/object-schema-config-item.ts","../src/types/config/range-config-item.ts","../src/types/config/select-boolean-config-item.ts","../src/types/config/select-string-config-item.ts","../src/types/config/config-item.ts","../src/model/chat-model/chat-model.schema.v1.ts","../src/model/embedding-model/embedding-model.schema.v1.ts","../src/types/headers.ts","../src/types/params.ts","../src/types/url.ts","../src/utils/common-config.def.chat-model.ts","../src/utils/common-config.def.word-embedding.ts","../src/utils/get-error-message.ts","../src/utils/remove-undefined-entries.ts","../src/utils/is-running-in-browser.ts","../src/utils/base64.ts","../src/utils/url.ts"],"names":["ProviderErrorLiteral","ProviderError","_ProviderError","GatewayBaseError","info","cause","error","ModelErrorLiteral","ModelError","_ModelError","ModelResponseErrorLiteral","ModelResponseError","_ModelResponseError","InvalidModelRequestErrorLiteral","InvalidModelRequestError","_InvalidModelRequestError","InvalidConfigErrorLiteral","InvalidConfigError","_InvalidConfigError","InvalidMessagesErrorLiteral","InvalidMessagesError","_InvalidMessagesError","InvalidToolsErrorLiteral","InvalidToolsError","_InvalidToolsError","InvalidEmbeddingRequestsErrorLiteral","InvalidEmbeddingRequestsError","_InvalidEmbeddingRequestsError","MultiStringConfigItemTypeLiteral","MultiStringConfigItemDef","z","MultiStringConfigItemSchema","max","MultiStringConfigItem","data","__spreadValues","ObjectSchemaConfigItemTypeLiteral","ObjectSchemaConfigItemDef","ObjectSchemaConfigItemSchema","schema","ObjectSchemaConfigItem","RangeConfigItemTypeLiteral","RangeConfigItemDef","RangeConfigItemSchema","min","step","defaultValue","RangeConfigItem","SelectBooleanConfigItemTypeLiteral","SelectBooleanConfigItemDef","SelectBooleanConfigItemSchema","SelectBooleanConfigItem","SelectStringConfigItemTypeLiteral","SelectStringConfigItemDef","SelectStringConfigItemSchema","choices","SelectStringConfigItem","ConfigItemLiterals","ConfigItemEnum","ConfigItemDef","ChatModelSchema","Roles","RoleEnum","Modalities","ModalityEnum","config","_a","_b","defKeys","schemaKeys","key","EmbeddingModelSchema","EmbeddingModalityEnum","Headers","Params","Url","TEMPERATURE","MAX_TOKENS","STOP","TOP_A","TOP_P","TOP_K","MIN_P","FREQUENCY_PENALTY","PRESENCE_PENALTY","SEED","REPETITION_PENALTY","LOG_PROBS","TOP_LOG_PROBS","ECHO","RESPONSE_FORMAT","RESPONSE_FORMAT_WITH_SCHEMA","RESPONSE_SCHEMA","CHAT_CONFIG","DIMENSIONS","ENCODING_FORMAT","EMBEDDING_CONFIG","getErrorMessage","removeUndefinedEntries","record","_","value","isRunningInBrowser","convertBase64ToUint8Array","base64String","base64Url","latin1string","byte","convertUint8ArrayToBase64","array","i","encodedBase64ToString","base64","binaryString","bytes","getMimeTypeFromBase64","urlWithoutTrailingSlash","url"],"mappings":"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","file":"index.mjs","sourcesContent":["import { GatewayBaseError } from \"@adaline/types\";\n\nconst ProviderErrorLiteral = \"ProviderError\" as const;\nexport class ProviderError extends GatewayBaseError {\n  readonly name = ProviderErrorLiteral;\n  readonly info: string;\n  readonly cause: unknown;\n\n  constructor({ info, cause }: { info: string; cause: unknown }) {\n    super({ info, cause }, ProviderErrorLiteral);\n    this.info = info;\n    this.cause = cause;\n  }\n\n  static isProviderError(error: unknown): error is ProviderError {\n    return error instanceof ProviderError;\n  }\n}\n","import { GatewayBaseError } from \"@adaline/types\";\n\nconst ModelErrorLiteral = \"ModelError\" as const;\nexport class ModelError extends GatewayBaseError {\n  readonly name = ModelErrorLiteral;\n  readonly info: string;\n  readonly cause: unknown;\n\n  constructor({ info, cause }: { info: string; cause: unknown }) {\n    super({ info, cause }, ModelErrorLiteral);\n    this.info = info;\n    this.cause = cause;\n  }\n\n  static isModelError(error: unknown): error is ModelError {\n    return error instanceof ModelError;\n  }\n}\n","import { GatewayBaseError } from \"@adaline/types\";\n\nconst ModelResponseErrorLiteral = \"ModelResponseError\" as const;\nexport class ModelResponseError extends GatewayBaseError {\n  readonly name = ModelResponseErrorLiteral;\n  readonly info: string;\n  readonly cause: unknown;\n\n  constructor({ info, cause }: { info: string; cause: unknown }) {\n    super({ info, cause }, ModelResponseErrorLiteral);\n    this.cause = cause;\n    this.info = info;\n  }\n\n  static isModelResponseError(error: unknown): error is ModelResponseError {\n    return error instanceof ModelResponseError;\n  }\n}\n","import { GatewayBaseError } from \"@adaline/types\";\n\nconst InvalidModelRequestErrorLiteral = \"InvalidModelRequestError\" as const;\nexport class InvalidModelRequestError extends GatewayBaseError {\n  readonly name = InvalidModelRequestErrorLiteral;\n  readonly info: string;\n  readonly cause: unknown;\n\n  constructor({ info, cause }: { info: string; cause: unknown }) {\n    super({ info, cause }, InvalidModelRequestErrorLiteral);\n    this.cause = cause;\n    this.info = info;\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n\n  static isInvalidModelRequestError(error: unknown): error is InvalidModelRequestError {\n    return error instanceof InvalidModelRequestError;\n  }\n}\n","import { GatewayBaseError } from \"@adaline/types\";\n\nconst InvalidConfigErrorLiteral = \"InvalidConfigError\" as const;\nexport class InvalidConfigError extends GatewayBaseError {\n  readonly name = InvalidConfigErrorLiteral;\n  readonly info: string;\n  readonly cause: unknown;\n\n  constructor({ info, cause }: { info: string; cause: unknown }) {\n    super({ info, cause }, InvalidConfigErrorLiteral);\n    this.cause = cause;\n    this.info = info;\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n\n  static isInvalidConfigError(error: unknown): error is InvalidConfigError {\n    return error instanceof InvalidConfigError;\n  }\n}\n","import { GatewayBaseError } from \"@adaline/types\";\n\nconst InvalidMessagesErrorLiteral = \"InvalidMessagesError\" as const;\nexport class InvalidMessagesError extends GatewayBaseError {\n  readonly name = InvalidMessagesErrorLiteral;\n  readonly info: string;\n  readonly cause: unknown;\n\n  constructor({ info, cause }: { info: string; cause: unknown }) {\n    super({ info, cause }, InvalidMessagesErrorLiteral);\n    this.cause = cause;\n    this.info = info;\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n\n  static isInvalidMessagesError(error: unknown): error is InvalidMessagesError {\n    return error instanceof InvalidMessagesError;\n  }\n}\n","import { GatewayBaseError } from \"@adaline/types\";\n\nconst InvalidToolsErrorLiteral = \"InvalidToolsError\" as const;\nexport class InvalidToolsError extends GatewayBaseError {\n  readonly name = InvalidToolsErrorLiteral;\n  readonly info: string;\n  readonly cause: unknown;\n\n  constructor({ info, cause }: { info: string; cause: unknown }) {\n    super({ info, cause }, InvalidToolsErrorLiteral);\n    this.cause = cause;\n    this.info = info;\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n\n  static isInvalidToolsError(error: unknown): error is InvalidToolsError {\n    return error instanceof InvalidToolsError;\n  }\n}\n","import { GatewayBaseError } from \"@adaline/types\";\n\nconst InvalidEmbeddingRequestsErrorLiteral = \"InvalidEmbeddingRequestsError\" as const;\nexport class InvalidEmbeddingRequestsError extends GatewayBaseError {\n  readonly name = InvalidEmbeddingRequestsErrorLiteral;\n  readonly info: string;\n  readonly cause: unknown;\n\n  constructor({ info, cause }: { info: string; cause: unknown }) {\n    super({ info, cause }, InvalidEmbeddingRequestsErrorLiteral);\n    this.info = info;\n    this.cause = cause;\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n\n  static isInvalidEmbeddingRequestsError(error: unknown): error is InvalidEmbeddingRequestsError {\n    return error instanceof InvalidEmbeddingRequestsError;\n  }\n}\n","import { z } from \"zod\";\n\nconst MultiStringConfigItemTypeLiteral = \"multi-string\" as const;\n\nconst MultiStringConfigItemDef = z.object({\n  type: z.literal(MultiStringConfigItemTypeLiteral),\n  param: z.string().min(1),\n  title: z.string().min(1),\n  description: z.string().min(1).max(500),\n  max: z.number().int().positive(),\n});\ntype MultiStringConfigItemType = z.infer<typeof MultiStringConfigItemDef>;\n\nconst MultiStringConfigItemSchema = (max: number) => z.array(z.string()).max(max).default([]).optional();\ntype MultiStringConfigItemSchemaType = z.infer<ReturnType<typeof MultiStringConfigItemSchema>>;\n\nconst MultiStringConfigItem = (data: Omit<MultiStringConfigItemType, \"type\">) => {\n  return {\n    def: MultiStringConfigItemDef.parse({\n      type: MultiStringConfigItemTypeLiteral,\n      ...data,\n    }),\n    schema: MultiStringConfigItemSchema(data.max),\n  };\n};\n\nexport {\n  MultiStringConfigItem,\n  MultiStringConfigItemDef,\n  MultiStringConfigItemSchema,\n  MultiStringConfigItemTypeLiteral,\n  type MultiStringConfigItemSchemaType,\n  type MultiStringConfigItemType,\n};\n","import { z } from \"zod\";\n\nconst ObjectSchemaConfigItemTypeLiteral = \"object-schema\" as const;\n\nconst ObjectSchemaConfigItemDef = z.object({\n  type: z.literal(ObjectSchemaConfigItemTypeLiteral),\n  param: z.string().min(1),\n  title: z.string().min(1),\n  description: z.string().min(1).max(500),\n  objectSchema: z.any(),\n});\ntype ObjectSchemaConfigItemType = z.infer<typeof ObjectSchemaConfigItemDef>;\n\nconst ObjectSchemaConfigItemSchema = <S extends z.ZodRawShape>(schema: z.ZodObject<S>) => schema.optional();\ntype ObjectSchemaConfigItemSchemaType<S extends z.ZodRawShape = z.ZodRawShape> = z.infer<\n  ReturnType<typeof ObjectSchemaConfigItemSchema<S>>\n>;\n\nconst ObjectSchemaConfigItem = (data: Omit<ObjectSchemaConfigItemType, \"type\">) => {\n  return {\n    def: ObjectSchemaConfigItemDef.parse({\n      type: ObjectSchemaConfigItemTypeLiteral,\n      ...data,\n    }),\n    schema: ObjectSchemaConfigItemSchema(data.objectSchema),\n  };\n};\n\nexport {\n  ObjectSchemaConfigItem,\n  ObjectSchemaConfigItemDef,\n  ObjectSchemaConfigItemSchema,\n  ObjectSchemaConfigItemTypeLiteral,\n  type ObjectSchemaConfigItemType,\n  type ObjectSchemaConfigItemSchemaType,\n};\n","import { z } from \"zod\";\n\nconst RangeConfigItemTypeLiteral = \"range\" as const;\n\nconst RangeConfigItemDef = z.object({\n  type: z.literal(RangeConfigItemTypeLiteral),\n  param: z.string().min(1),\n  title: z.string().min(1),\n  description: z.string().min(1).max(500),\n  min: z.number().int(),\n  max: z.number().int(),\n  step: z.number().positive(),\n  default: z.number(),\n});\ntype RangeConfigItemDefType = z.infer<typeof RangeConfigItemDef>;\n\nconst RangeConfigItemSchema = (min: number, max: number, step: number, defaultValue: number) =>\n  z.number().min(min).max(max).step(step).default(defaultValue).optional();\ntype RangeConfigItemSchemaType = z.infer<ReturnType<typeof RangeConfigItemSchema>>;\n\nconst RangeConfigItem = (data: Omit<RangeConfigItemDefType, \"type\">) => {\n  return {\n    def: RangeConfigItemDef.parse({\n      type: RangeConfigItemTypeLiteral,\n      ...data,\n    }),\n    schema: RangeConfigItemSchema(data.min, data.max, data.step, data.default),\n  };\n};\n\nexport {\n  RangeConfigItem,\n  RangeConfigItemDef,\n  RangeConfigItemSchema,\n  RangeConfigItemTypeLiteral,\n  type RangeConfigItemDefType,\n  type RangeConfigItemSchemaType,\n};\n","import { z } from \"zod\";\n\nconst SelectBooleanConfigItemTypeLiteral = \"select-boolean\" as const;\n\nconst SelectBooleanConfigItemDef = z.object({\n  type: z.literal(SelectBooleanConfigItemTypeLiteral),\n  param: z.string().min(1),\n  title: z.string().min(1),\n  description: z.string().min(1).max(500),\n  default: z.boolean().nullable(),\n});\ntype SelectBooleanConfigItemDefType = z.infer<typeof SelectBooleanConfigItemDef>;\n\nconst SelectBooleanConfigItemSchema = (defaultValue: boolean | null) => z.boolean().nullable().default(defaultValue).optional();\ntype SelectBooleanConfigItemSchemaType = z.infer<ReturnType<typeof SelectBooleanConfigItemSchema>>;\n\nconst SelectBooleanConfigItem = (data: Omit<SelectBooleanConfigItemDefType, \"type\">) => {\n  return {\n    def: SelectBooleanConfigItemDef.parse({\n      type: SelectBooleanConfigItemTypeLiteral,\n      ...data,\n    }),\n    schema: SelectBooleanConfigItemSchema(data.default),\n  };\n};\n\nexport {\n  SelectBooleanConfigItem,\n  SelectBooleanConfigItemDef,\n  SelectBooleanConfigItemSchema,\n  SelectBooleanConfigItemTypeLiteral,\n  type SelectBooleanConfigItemDefType,\n  type SelectBooleanConfigItemSchemaType,\n};\n","import { z } from \"zod\";\n\nconst SelectStringConfigItemTypeLiteral = \"select-string\" as const;\n\nconst SelectStringConfigItemDef = z.object({\n  type: z.literal(SelectStringConfigItemTypeLiteral),\n  param: z.string().min(1),\n  title: z.string().min(1),\n  description: z.string().min(1).max(500),\n  default: z.string().min(1).nullable(),\n  choices: z.array(z.string().min(1)),\n});\ntype SelectStringConfigItemDefType = z.infer<typeof SelectStringConfigItemDef>;\n\nconst SelectStringConfigItemSchema = (defaultValue: string | null, choices: string[]) =>\n  z\n    .enum(choices as [string, ...string[]])\n    .nullable()\n    .default(defaultValue)\n    .optional();\ntype SelectStringConfigItemSchemaType = z.infer<ReturnType<typeof SelectStringConfigItemSchema>>;\n\nconst SelectStringConfigItem = (data: Omit<SelectStringConfigItemDefType, \"type\">) => {\n  return {\n    def: SelectStringConfigItemDef.parse({\n      type: SelectStringConfigItemTypeLiteral,\n      ...data,\n    }),\n    schema: SelectStringConfigItemSchema(data.default, data.choices),\n  };\n};\n\nexport {\n  SelectStringConfigItem,\n  SelectStringConfigItemDef,\n  SelectStringConfigItemSchema,\n  SelectStringConfigItemTypeLiteral,\n  type SelectStringConfigItemDefType,\n  type SelectStringConfigItemSchemaType,\n};\n","import { z } from \"zod\";\n\nimport { MultiStringConfigItemDef, MultiStringConfigItemTypeLiteral } from \"./multi-string-config-item\";\nimport { ObjectSchemaConfigItemDef, ObjectSchemaConfigItemTypeLiteral } from \"./object-schema-config-item\";\nimport { RangeConfigItemDef, RangeConfigItemTypeLiteral } from \"./range-config-item\";\nimport { SelectBooleanConfigItemDef, SelectBooleanConfigItemTypeLiteral } from \"./select-boolean-config-item\";\nimport { SelectStringConfigItemDef, SelectStringConfigItemTypeLiteral } from \"./select-string-config-item\";\n\nconst ConfigItemLiterals = [\n  RangeConfigItemTypeLiteral,\n  MultiStringConfigItemTypeLiteral,\n  SelectStringConfigItemTypeLiteral,\n  ObjectSchemaConfigItemTypeLiteral,\n  SelectBooleanConfigItemTypeLiteral,\n] as const;\nconst ConfigItemEnum = z.enum(ConfigItemLiterals);\ntype ConfigItemEnumType = z.infer<typeof ConfigItemEnum>;\n\nconst ConfigItemDef = z.discriminatedUnion(\"type\", [\n  RangeConfigItemDef,\n  MultiStringConfigItemDef,\n  SelectStringConfigItemDef,\n  SelectBooleanConfigItemDef,\n  ObjectSchemaConfigItemDef,\n]);\ntype ConfigItemDefType = z.infer<typeof ConfigItemDef>;\n\nexport { ConfigItemDef, ConfigItemEnum, ConfigItemLiterals, type ConfigItemDefType, type ConfigItemEnumType };\n","import { z } from \"zod\";\n\nimport { ModalityEnum, RoleEnum } from \"@adaline/types\";\n\nimport { ConfigItemDef } from \"../../types/config\";\n\nconst ChatModelSchema = <\n  R extends z.ZodEnum<[string, ...string[]]> = typeof RoleEnum,\n  M extends z.ZodEnum<[string, ...string[]]> = typeof ModalityEnum,\n>(\n  Roles: R = RoleEnum as unknown as R,\n  Modalities: M = ModalityEnum as unknown as M\n) =>\n  z.object({\n    name: z.string().min(1),\n    description: z.string().min(1),\n    roles: z.record(Roles, z.string().min(1).optional()),\n    modalities: z.array(Modalities).nonempty(),\n    maxInputTokens: z.number().int().positive().min(1),\n    maxOutputTokens: z.number().int().positive().min(1),\n    config: z\n      .object({\n        def: z.record(z.string().min(1), ConfigItemDef),\n        schema: z.instanceof(z.ZodObject),\n      })\n      .refine(\n        (config) => {\n          const defKeys = Object.keys(config.def);\n          const schemaKeys = Object.keys(config.schema?.shape ?? {});\n          return defKeys.every((key) => schemaKeys.includes(key)) && schemaKeys.every((key) => defKeys.includes(key));\n        },\n        {\n          message: \"Keys in 'config.def' must exactly match keys in 'config.schema'\",\n        }\n      ),\n  });\ntype ChatModelSchemaType<\n  R extends z.ZodEnum<[string, ...string[]]> = typeof RoleEnum,\n  M extends z.ZodEnum<[string, ...string[]]> = typeof ModalityEnum,\n> = z.infer<ReturnType<typeof ChatModelSchema<R, M>>>;\n\nexport { ChatModelSchema, type ChatModelSchemaType };\n","import { z } from \"zod\";\n\nimport { EmbeddingModalityEnum } from \"@adaline/types\";\n\nimport { ConfigItemDef } from \"../../types/config\";\n\n// TODO: add embedding model properties (dimensions, etc)\nconst EmbeddingModelSchema = <M extends z.ZodEnum<[string, ...string[]]> = typeof EmbeddingModalityEnum>(\n  Modalities: M = EmbeddingModalityEnum as unknown as M\n) =>\n  z.object({\n    name: z.string().min(1),\n    description: z.string().min(1),\n    modalities: z.array(Modalities).nonempty(),\n    maxInputTokens: z.number().int().positive().min(1),\n    maxOutputTokens: z.number().int().positive().min(1),\n    config: z\n      .object({\n        def: z.record(z.string().min(1), ConfigItemDef),\n        schema: z.instanceof(z.ZodObject),\n      })\n      .refine(\n        (config) => {\n          const defKeys = Object.keys(config.def);\n          const schemaKeys = Object.keys(config.schema?.shape ?? {});\n          return defKeys.every((key) => schemaKeys.includes(key)) && schemaKeys.every((key) => defKeys.includes(key));\n        },\n        {\n          message: \"Keys in 'config.def' must exactly match keys in 'config.schema'\",\n        }\n      ),\n  });\ntype EmbeddingModelSchemaType<M extends z.ZodEnum<[string, ...string[]]> = typeof EmbeddingModalityEnum> = z.infer<\n  ReturnType<typeof EmbeddingModelSchema<M>>\n>;\n\nexport { EmbeddingModelSchema, type EmbeddingModelSchemaType };\n","import { z } from \"zod\";\n\nconst Headers = z.record(z.string());\ntype HeadersType = z.infer<typeof Headers>;\n\nexport { Headers, type HeadersType };\n","import { z } from \"zod\";\n\nconst Params = z.record(\n  z.union([\n    z.boolean(),\n    z.string(),\n    z.number(),\n    z.object({}),\n    z.array(z.any()),\n    z.null(),\n    z.undefined(),\n  ])\n);\ntype ParamsType = z.infer<typeof Params>;\n\nexport { Params, type ParamsType };\n","import { z } from \"zod\";\n\nconst Url = z.string().url();\ntype UrlType = z.infer<typeof Url>;\n\nexport { Url, type UrlType };\n","const TEMPERATURE = {\n  type: \"range\",\n  title: \"Temperature\",\n  description:\n    \"Adjusts the model's creativity level. With a setting of 0, the model strictly picks the most probable next word. \\\n    For endeavors that benefit from a dash of inventiveness, consider dialing it up to 0.7 or higher, enabling the model to produce text \\\n    that's unexpectedly fresh.\",\n} as const;\n\nconst MAX_TOKENS = {\n  type: \"range\",\n  title: \"Max tokens\",\n  description:\n    \"Specify the total tokens for generation, where one token approximates four English characters. \\\n    Setting this to 0 defaults to the model's maximum capacity.\",\n} as const;\n\nconst STOP = (max: number) =>\n  ({\n    type: \"multi\",\n    title: \"Stop sequence\",\n    description: `Enter up to ${max} sequences that will halt additional text output. \\\n      The generated text will exclude these sequences.`,\n  }) as const;\n\nconst TOP_A = {\n  type: \"range\",\n  title: \"Top A\",\n  description:\n    \"Considers only the top tokens that have 'sufficiently high' probabilities relative to the most likely token, \\\n    functioning like a dynamic Top-P. \\\n    A lower Top-A value narrows down the token choices based on the highest probability token, \\\n    while a higher Top-A value refines the filtering without necessarily impacting the creativity of the output.\",\n} as const;\n\nconst TOP_P = {\n  type: \"range\",\n  title: \"Top P\",\n  description:\n    \"Selects a subset of likely tokens for generation, restricting choices to the top-P fraction of possibilities, \\\n    such as the top 10% when P=0.1. \\\n    This approach can limit the variety of the output. By default, it's set to 1, indicating no restriction. \\\n    It's advised to adjust this parameter or temperature to modulate output diversity, but not to modify both simultaneously.\",\n} as const;\n\nconst TOP_K = {\n  type: \"range\",\n  title: \"Top K\",\n  description:\n    \"Select only from the highest K probabilities for each following word, effectively eliminating the less likely 'long tail' options.\",\n} as const;\n\nconst MIN_P = {\n  type: \"range\",\n  title: \"Min P\",\n  description:\n    \"Specifies the minimum probability a token must have to be considered, in relation to the probability of the most likely token. \\\n    (This value varies based on the confidence level of the top token.) \\\n    For example, if Min-P is set to 0.1, only tokens with at least 1/10th the probability of the highest-ranked token will be considered.\",\n} as const;\n\nconst FREQUENCY_PENALTY = {\n  type: \"range\",\n  title: \"Frequency penalty\",\n  description:\n    \"Minimize redundancy.\\\n    By assigning a penalty to frequently used tokens within the text, the likelihood of repeating identical phrases is reduced. \\\n    The default setting for this penalty is zero.\",\n} as const;\n\nconst PRESENCE_PENALTY = {\n  type: \"range\",\n  title: \"Presence penalty\",\n  description:\n    \"Enhance the introduction of novel subjects by reducing the preference for tokens that have already appeared in the text, \\\n    thus boosting the chances of exploring fresh topics. \\\n    The standard setting for this is zero.\",\n} as const;\n\nconst SEED = {\n  type: \"range\",\n  title: \"Seed\",\n  description:\n    \"When seed is fixed to a specific value, the model makes a best effort to provide the same response for repeated requests. \\\n    Deterministic output isn't guaranteed. \\\n    Also, changing the model or parameter settings, such as the temperature, \\\n    can cause variations in the response even when you use the same seed value. \\\n    By default, a random seed value is used.\",\n} as const;\n\nconst REPETITION_PENALTY = {\n  type: \"range\",\n  title: \"Repetition penalty\",\n  description:\n    \"Reduces the likelihood of repeating tokens from the input. \\\n    Increasing this value makes the model less prone to repetition, but setting it too high may lead to less coherent output, \\\n    often resulting in run-on sentences missing smaller words. \\\n    The token penalty is scaled according to the original token's probability.\",\n} as const;\n\nconst LOG_PROBS = {\n  type: \"boolean\",\n  title: \"Log probs\",\n  description:\n    \"Whether to return log probabilities of the output tokens or not. If true, returns the log probabilities of each output token returned.\",\n} as const;\n\nconst TOP_LOG_PROBS = {\n  type: \"range\",\n  title: \"Top log probs\",\n  description:\n    \"The number of most likely tokens to return at each token position, each with an associated log probability. \\\n    'logprobs' must be set to true if this parameter is used.\",\n} as const;\n\nconst ECHO = {\n  type: \"boolean\",\n  title: \"Echo\",\n  description: \"If true, the response will contain the prompt.\",\n} as const;\n\nconst RESPONSE_FORMAT = {\n  type: \"select\",\n  title: \"Response format\",\n  description:\n    \"Choose the response format of your model. For JSON, you must include the string 'JSON' in some form within your system / user prompt.\",\n} as const;\n\nconst RESPONSE_FORMAT_WITH_SCHEMA = {\n  type: \"select\",\n  title: \"Response format\",\n  description:\n    \"Choose the response format of your model. 'json_object' colloquially known as JSON mode, instructs the model to respond with a valid \\\n  JSON (must include the term 'json' in prompt). 'json_schema' colloquially known as structured outputs, allows you to specify a strict \\\n  response schema that the model will adhere to.\",\n} as const;\n\nconst RESPONSE_SCHEMA = {\n  type: \"object\",\n  title: \"Response schema\",\n  description: \"When response format is set to 'json_schema', the model will return a JSON object of the specified schema.\",\n} as const;\n\nconst CHAT_CONFIG = {\n  TEMPERATURE,\n  MAX_TOKENS,\n  STOP,\n  TOP_A,\n  TOP_P,\n  TOP_K,\n  MIN_P,\n  FREQUENCY_PENALTY,\n  PRESENCE_PENALTY,\n  REPETITION_PENALTY,\n  SEED,\n  LOG_PROBS,\n  TOP_LOG_PROBS,\n  ECHO,\n  RESPONSE_FORMAT,\n  RESPONSE_FORMAT_WITH_SCHEMA,\n  RESPONSE_SCHEMA,\n};\n\nexport { CHAT_CONFIG };\n","const DIMENSIONS = {\n  type: \"range\",\n  title: \"Dimensions\",\n  description: \"Select the number of dimensions for the word embedding.\",\n} as const;\n\nconst ENCODING_FORMAT = {\n  type: \"select\",\n  title: \"Encoding format\",\n  description: \"Select the encoding format for the word embedding.\",\n} as const;\n\nconst EMBEDDING_CONFIG = {\n  DIMENSIONS,\n  ENCODING_FORMAT,\n};\n\nexport { EMBEDDING_CONFIG };\n","const getErrorMessage = (error: unknown | undefined): string => {\n  if (error == null) return \"unknown error\";\n  if (typeof error === \"string\") return error;\n  if (error instanceof Error) return error.message;\n  return JSON.stringify(error);\n};\n\nexport { getErrorMessage };\n","const removeUndefinedEntries = <T = unknown>(record: Record<string, T | undefined>): Record<string, T> => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  return Object.fromEntries(Object.entries(record).filter(([_, value]) => value != null)) as Record<string, T>;\n};\n\nexport { removeUndefinedEntries };\n","const isRunningInBrowser = () => {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof navigator !== \"undefined\";\n};\n\nexport { isRunningInBrowser };\n","import { isRunningInBrowser } from \"./is-running-in-browser\";\n\nconst convertBase64ToUint8Array = (base64String: string): Uint8Array => {\n  const base64Url = base64String.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  const latin1string = globalThis.atob(base64Url);\n  return Uint8Array.from(latin1string, (byte) => byte.codePointAt(0)!);\n};\n\nconst convertUint8ArrayToBase64 = (array: Uint8Array): string => {\n  let latin1string = \"\";\n\n  // Note: regular for loop to support older JavaScript versions that\n  // do not support for..of on Uint8Array\n  for (let i = 0; i < array.length; i++) {\n    latin1string += String.fromCodePoint(array[i]);\n  }\n\n  return globalThis.btoa(latin1string);\n};\n\nconst encodedBase64ToString = (base64: string): string => {\n  if (isRunningInBrowser()) {\n    const binaryString = atob(base64);\n    const bytes = new Uint8Array(binaryString.length);\n    for (let i = 0; i < binaryString.length; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    const decoder = new TextDecoder(\"utf-8\");\n    return decoder.decode(bytes);\n  } else {\n    return Buffer.from(base64, \"base64\").toString(\"utf-8\");\n  }\n};\n\nconst getMimeTypeFromBase64 = (base64: string): string => {\n  const mimeTypePrefix = base64.split(\";\")[0];\n  const mimeType = mimeTypePrefix.split(\"/\")[1];\n  return mimeType;\n};\n\nexport { convertBase64ToUint8Array, convertUint8ArrayToBase64, encodedBase64ToString, getMimeTypeFromBase64 };\n","const urlWithoutTrailingSlash = (url: string): string => {\n  return url?.replace(/\\/$/, \"\");\n};\n\nexport { urlWithoutTrailingSlash };\n"]}